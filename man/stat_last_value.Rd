% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat_last_value.R
\docType{data}
\name{geom_laste_value_label/ stat_last_value}
\alias{geom_laste_value_label/ stat_last_value}
\alias{stat_last_value}
\alias{geom_last_value_label}
\alias{geom_last_value_text}
\alias{geom_last_value_label_repel}
\alias{geom_last_value_text_repel}
\alias{StatLastValue}
\alias{StatLastValueRepel}
\title{Add labels or points to the last value of a line chart}
\usage{
stat_last_value(
  mapping = NULL,
  data = NULL,
  geom = "point",
  position = "identity",
  rel_nudge = 0,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_last_value_label(
  mapping = NULL,
  data = NULL,
  stat = "last_value",
  position = "identity",
  rel_nudge = 0.05,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_last_value_text(
  mapping = NULL,
  data = NULL,
  stat = "last_value",
  position = "identity",
  rel_nudge = 0.05,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_last_value_label_repel(
  mapping = NULL,
  data = NULL,
  stat = "last_value_repel",
  position = "identity",
  rel_nudge = 0.05,
  direction = "y",
  min.segment.length = 0.5,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_last_value_text_repel(
  mapping = NULL,
  data = NULL,
  stat = "last_value_repel",
  position = "identity",
  rel_nudge = 0.05,
  direction = "y",
  min.segment.length = 0.5,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
}
\arguments{
\item{mapping}{Set of aesthetic mappings created by \code{\link[ggplot2]{aes}}. Commonly used mappings:
\itemize{
\item \strong{x}: position on x-axis
\item \strong{y}: position on y-axis
\item \strong{label}: text to display (defaults to the last y value)
}}

\item{data}{The data frame containing the variables for the plot}

\item{geom}{The geometric object to use to display the data for this layer.
When using a \verb{stat_*()} function to construct a layer, the \code{geom} argument
can be used to override the default coupling between stats and geoms.}

\item{position}{Position adjustment. Defaults to "identity"}

\item{rel_nudge}{Numeric value specifying how far to nudge the label to the right,
relative to the width of the x-axis. Defaults to 0.05 (5\% of axis width) for the label geoms.}

\item{...}{Other arguments passed to \code{\link[ggplot2]{geom_label}}, \code{\link[ggplot2]{geom_text}}}

\item{na.rm}{If \code{FALSE}, the default, missing values are removed with
a warning. If \code{TRUE}, missing values are silently removed.}

\item{show.legend}{logical. Should this layer be included in the legends?
\code{NA}, the default, includes if any aesthetics are mapped.
\code{FALSE} never includes, and \code{TRUE} always includes.
It can also be a named logical vector to finely select the aesthetics to
display.}

\item{inherit.aes}{If \code{FALSE}, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. \code{\link[ggplot2:borders]{borders()}}.}

\item{stat}{The statistical transformation to use on the data. Defaults to "last_value"}

\item{direction}{"both", "x", or "y" -- direction in which to adjust position of labels}

\item{min.segment.length}{Skip drawing segments shorter than this, as unit or
number. Defaults to 0.5. (Default unit is lines, but other units can be
specified by passing \code{unit(x, "units")}).}
}
\value{
A \code{ggplot2} layer that can be added to a plot
}
\description{
Creates a label, point or any geom at the last point of a line (highest x value). This is useful for
line charts where you want to identify each line at its endpoint, write the last value of a
time series at the endpoint or just add a point at the end of a \code{\link[ggplot2]{geom_line}}. This functions
also nudges the last value relative to the length of the x-axis.
The function automatically positions the label slightly to the right of the last point.
There are 5 functions:
\itemize{
\item \code{stat_last_value()}: The core statistical transformation that identifies the last point of a line
(e.g. last date of the time series).
\item \code{geom_last_value_label()}: Adds the last y value or a custom label
after the last observation using \code{\link[ggplot2]{geom_label}}.
\item \code{geom_last_value_text()}: Adds the last y value or a custom text
after the last observation using \code{\link[ggplot2]{geom_text}}.
\item \code{geom_last_value_label_repel()}: Adds non-overlapping labels with \code{\link[ggrepel]{geom_label_repel}}.
\item \code{geom_last_value_text_repel()}: Adds non-overlapping text with \code{\link[ggrepel]{geom_label_repel}}.
}
}
\examples{
# Basic example with last value labels
library(ggplot2)

ggplot(economics, aes(x = date, y = unemploy, group = 1)) +
  geom_line() +
  geom_last_value_label()

# Multiple lines with custom labels
ggplot(economics_long, aes(x = date, y = value, color = variable)) +
  geom_line() +
  geom_last_value_label(aes(label = variable))
}
\keyword{datasets}
