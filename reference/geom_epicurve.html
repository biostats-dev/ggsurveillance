<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create an epidemic curve plot or bin/count observations by date periods — geom_epicurve • ggsurveillance</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an epidemic curve plot or bin/count observations by date periods — geom_epicurve"><meta name="description" content="Creates a epicurve plot for visualizing epidemic case counts in outbreaks (epidemiological curves).
An epicurve is a bar plot, where every case is outlined. geom_epicurve additionally provides
date-based aggregation of cases (e.g. per week or month and many more) using bin_by_date.
For week aggregation both isoweek (World + ECDC) and epiweek (US CDC) are supported.
stat_bin_date and its alias stat_date_count provide date based binning only. After binning the by date with bin_by_date, these
stats behave like ggplot2::stat_count.
geom_epicurve_text adds text labels to cases on epicurve plots.
geom_epicurve_point adds points/shapes to cases on epicurve plots.

"><meta property="og:description" content="Creates a epicurve plot for visualizing epidemic case counts in outbreaks (epidemiological curves).
An epicurve is a bar plot, where every case is outlined. geom_epicurve additionally provides
date-based aggregation of cases (e.g. per week or month and many more) using bin_by_date.
For week aggregation both isoweek (World + ECDC) and epiweek (US CDC) are supported.
stat_bin_date and its alias stat_date_count provide date based binning only. After binning the by date with bin_by_date, these
stats behave like ggplot2::stat_count.
geom_epicurve_text adds text labels to cases on epicurve plots.
geom_epicurve_point adds points/shapes to cases on epicurve plots.

"><meta property="og:image" content="https://ggsurveillance.biostats.dev/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggsurveillance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/align_dates_seasonal.html">Seasonal Plots: Align case data for seasonal analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Epicurves_with_ggsurveillance.html">EpiCurves: epicurves in ggplot with ggsurveillance</a></li>
    <li><a class="dropdown-item" href="../articles/Epigantt_with_ggsurveillance.html">EpiGantt: epigantt charts in ggplot with ggsurveillance</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/biostats-dev/ggsurveillance/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create an epidemic curve plot or bin/count observations by date periods</h1>
      <small class="dont-index">Source: <a href="https://github.com/biostats-dev/ggsurveillance/blob/main/R/geom_epicurve.R" class="external-link"><code>R/geom_epicurve.R</code></a></small>
      <div class="d-none name"><code>geom_epicurve.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a epicurve plot for visualizing epidemic case counts in outbreaks (epidemiological curves).
An epicurve is a bar plot, where every case is outlined. <code>geom_epicurve</code> additionally provides
date-based aggregation of cases (e.g. per week or month and many more) using <a href="bin_by_date.html">bin_by_date</a>.</p><ul><li><p>For week aggregation both isoweek (World + ECDC) and epiweek (US CDC) are supported.</p></li>
<li><p><code>stat_bin_date</code> and its alias <code>stat_date_count</code> provide date based binning only. After binning the by date with <a href="bin_by_date.html">bin_by_date</a>, these
stats behave like <a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">ggplot2::stat_count</a>.</p></li>
<li><p><code>geom_epicurve_text</code> adds text labels to cases on epicurve plots.</p></li>
<li><p><code>geom_epicurve_point</code> adds points/shapes to cases on epicurve plots.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">geom_epicurve</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"epicurve"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"stack"</span>,</span>
<span>  date_resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  relative.width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stat_bin_date</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geom <span class="op">=</span> <span class="st">"line"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  date_resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  fill_gaps <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stat_date_count</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geom <span class="op">=</span> <span class="st">"line"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  date_resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  fill_gaps <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geom_epicurve_text</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"epicurve"</span>,</span>
<span>  vjust <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  date_resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geom_epicurve_point</span><span class="op">(</span></span>
<span>  mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"epicurve"</span>,</span>
<span>  vjust <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  date_resolution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mapping">mapping<a class="anchor" aria-label="anchor" href="#arg-mapping"></a></dt>
<dd><p>Set of aesthetic mappings created by <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></code>. Commonly used mappings:</p><ul><li><p><strong>x or y</strong>: date or datetime. Numeric is technically supported.</p></li>
<li><p><strong>fill</strong>: for colouring groups.</p></li>
<li><p><strong>weight</strong>: if data is already aggregated (e.g., case counts).</p></li>
</ul></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data frame containing the variables for the plot</p></dd>


<dt id="arg-stat">stat<a class="anchor" aria-label="anchor" href="#arg-stat"></a></dt>
<dd><p>For the geoms, use "<code>epicurve</code>" (default) to outline individual cases, or "<code>bin_date</code>" to aggregate data by group.
For large datasets, "<code>bin_date</code>" is recommended for better performance by drawing less rectangles.</p></dd>


<dt id="arg-position">position<a class="anchor" aria-label="anchor" href="#arg-position"></a></dt>
<dd><p>Position adjustment. Currently supports "<code>stack</code>" for <code>geom_epicurve()</code>.</p></dd>


<dt id="arg-date-resolution">date_resolution<a class="anchor" aria-label="anchor" href="#arg-date-resolution"></a></dt>
<dd><p>Character string specifying the time unit for date aggregation. If <code>NULL</code> (default),
no date binning is performed. Possible values include: <code>"hour"</code>, <code>"day"</code>, <code>"week"</code>, <code>"month"</code>, <code>"bimonth"</code>, <code>"season"</code>,
<code>"quarter"</code>, <code>"halfyear"</code>, <code>"year"</code>. Special values:</p><ul><li><p><code>"isoweek"</code>: ISO week standard (week starts Monday, <code>week_start = 1</code>)</p></li>
<li><p><code>"epiweek"</code>: US CDC epiweek standard (week starts Sunday, <code>week_start = 7</code>)</p></li>
<li><p><code>"isoyear"</code>: ISO year (corresponding year of the ISO week, differs from year by 1-3 days)</p></li>
<li><p><code>"epiyear"</code>: Epidemiological year (corresponding year of the epiweek, differs from year by 1-3 days)
Defaults to <code>NULL</code>, i.e. no binning.</p></li>
</ul></dd>


<dt id="arg-week-start">week_start<a class="anchor" aria-label="anchor" href="#arg-week-start"></a></dt>
<dd><p>Integer specifying the start of the week (1 = Monday, 7 = Sunday).
Only used when <code>date_resolution</code> involves weeks. Defaults to 1 (Monday).
Overridden by <code>"isoweek"</code> (1) and <code>"epiweek"</code> (7) settings.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>Numeric value specifying the width of the bars. If <code>NULL</code>, calculated
based on <code>date_resolution</code> and <code>relative.width</code>.</p></dd>


<dt id="arg-relative-width">relative.width<a class="anchor" aria-label="anchor" href="#arg-relative-width"></a></dt>
<dd><p>Numeric value between 0 and 1 adjusting the relative width
of bars. Defaults to 1</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed to <code><a href="https://ggplot2.tidyverse.org/reference/layer.html" class="external-link">layer</a></code>. For example:</p><ul><li><p><strong>colour</strong>: Colour of the outlines around cases. Disable with <code>colour = NA</code>. Defaults to <code>"white"</code>.</p></li>
<li><p><strong>linewidth</strong>:  Width of the case outlines.</p></li>
</ul><p>For <code>geom_epicurve_text()</code> additional <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></code> arguments are supported:</p><ul><li><p><strong>fontface</strong>: Font face for text labels: one of "plain", "bold", "italic", "bold.italic".</p></li>
<li><p><strong>family</strong>: The font family.</p></li>
<li><p><strong>size</strong>: The font size.</p></li>
</ul></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p></dd>


<dt id="arg-show-legend">show.legend<a class="anchor" aria-label="anchor" href="#arg-show-legend"></a></dt>
<dd><p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p></dd>


<dt id="arg-inherit-aes">inherit.aes<a class="anchor" aria-label="anchor" href="#arg-inherit-aes"></a></dt>
<dd><p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="https://ggplot2.tidyverse.org/reference/borders.html" class="external-link">borders()</a></code>.</p></dd>


<dt id="arg-geom">geom<a class="anchor" aria-label="anchor" href="#arg-geom"></a></dt>
<dd><p>The geometric object to use to display the data for this layer.
When using a <code>stat_*()</code> function to construct a layer, the <code>geom</code> argument
can be used to override the default coupling between stats and geoms.</p></dd>


<dt id="arg-fill-gaps">fill_gaps<a class="anchor" aria-label="anchor" href="#arg-fill-gaps"></a></dt>
<dd><p>Logical; If <code>TRUE</code>, gaps in the time series will be filled with a count of 0. Often needed for line charts.</p></dd>


<dt id="arg-vjust">vjust<a class="anchor" aria-label="anchor" href="#arg-vjust"></a></dt>
<dd><p>Vertical justification of the text or shape. Value between 0 and 1.
Used by <code>geom_epicurve_text</code> and <code>geom_epicurve_point</code> to control
vertical positioning within the case rectangles. Defaults to 0.5 (center).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot2</code> geom layer that can be added to a plot</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Epi Curves are a public health tool for outbreak investigation. For more details see the references.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Centers for Disease Control and Prevention. Quick-Learn Lesson:
Using an Epi Curve to Determine Mode of Spread. USA. <a href="https://www.cdc.gov/training/quicklearns/epimode/" class="external-link">https://www.cdc.gov/training/quicklearns/epimode/</a></p></li>
<li><p>Dicker, Richard C., Fátima Coronado, Denise Koo, and R. Gibson Parrish. 2006.
Principles of Epidemiology in Public Health Practice; an Introduction to Applied Epidemiology and Biostatistics.
3rd ed. USA. <a href="https://stacks.cdc.gov/view/cdc/6914" class="external-link">https://stacks.cdc.gov/view/cdc/6914</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="scale_y_cases_5er.html">scale_y_cases_5er()</a></code>, <code><a href="geom_vline_year.html">geom_vline_year()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Basic epicurve with dates</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">plot_data_epicurve_imp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-12-01"</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">300</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">301</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_data_epicurve_imp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, weight <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="geom_vline_year.html">geom_vline_year</a></span><span class="op">(</span>break_type <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">geom_epicurve</span><span class="op">(</span>date_resolution <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Epicurve Example"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="scale_y_cases_5er.html">scale_y_cases_5er</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="co"># Correct ISOWeek labels for week-year</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"4 weeks"</span>, date_labels <span class="op">=</span> <span class="st">"W%V'%g"</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span>ratio <span class="op">=</span> <span class="fl">7</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Use coord_equal for square boxes. 'ratio' are the days per week.</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="geom_epicurve-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Categorical epicurve</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sars_canada_2003</span> <span class="op">|&gt;</span> <span class="co"># SARS dataset from outbreaks</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"cases"</span><span class="op">)</span>, names_prefix <span class="op">=</span> <span class="st">"cases_"</span>, names_to <span class="op">=</span> <span class="st">"origin"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, weight <span class="op">=</span> <span class="va">value</span>, fill <span class="op">=</span> <span class="va">origin</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">geom_epicurve</span><span class="op">(</span>date_resolution <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_labels <span class="op">=</span> <span class="st">"W%V'%g"</span>, date_breaks <span class="op">=</span> <span class="st">"2 weeks"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="scale_y_cases_5er.html">scale_y_cases_5er</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="geom_epicurve-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ndevln" class="external-link">Alexander Bartel</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>



  <script data-goatcounter="https://biostats-dev.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>

