% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scale_date_limit_days.R
\name{scale_x_date_limit_days}
\alias{scale_x_date_limit_days}
\alias{scale_x_date_limit_1.5years}
\alias{scale_x_datetime_limit_days}
\title{Limit the x-axis date range to a specific number of days}
\usage{
scale_x_date_limit_days(
  name = waiver(),
  limit_days = 549,
  reference_date = NULL,
  limit_at_reference = FALSE,
  ...,
  expand = waiver(),
  position = "bottom"
)

scale_x_date_limit_1.5years(limit_days = 549, ...)

scale_x_datetime_limit_days(
  name = waiver(),
  limit_days = 549,
  reference_date = NULL,
  limit_at_reference = FALSE,
  ...,
  expand = waiver(),
  position = "bottom"
)
}
\arguments{
\item{name}{The name of the scale - used as the axis label.}

\item{limit_days}{The number of days to display on the x-axis. Default is 549 days (approximately 1.5 years).}

\item{reference_date}{A reference date to calculate the lower limit (i.e. reference_date - limit_days).
Useful to align multiple plots either at the current date or if the datasets have different ranges of data
(e.g. different dates for the last observation).}

\item{limit_at_reference}{Logical. If TRUE, the upper limit will be exactly the reference date.
If FALSE (default), the upper limit will be the maximum date in the data.
Warning: Can result in loss of labels or text on the right side of the last observation.}

\item{...}{Additional arguments passed to \code{\link[ggplot2]{scale_x_date}}
or \code{\link[ggplot2]{scale_x_datetime}}.}

\item{expand}{A numeric vector of length two giving multiplicative and additive expansion constants.}

\item{position}{The position of the axis. One of "top", "bottom" (default), "left", or "right".}
}
\value{
A ggplot2 scale object.
}
\description{
This function creates a date scale for ggplot2 that limits the x-axis to show
only a specific number of days, with options to control the reference date and
upper bound behaviour.
This is helpful to align the scale of multiple time series of different lengths and to limit the shown data
to the most recent observations.
}
\examples{
\dontrun{
library(ggplot2)
library(lubridate)

# Sample data
df <- data.frame(
  date = seq(as_date("2020-01-01"), as_date("2022-01-01"), by = "day"),
  value = runif(732)
)

# Basic usage - shows last 549 days
ggplot(df, aes(x = date, y = value)) +
  geom_line() +
  scale_x_date_limit_days()

# With reference date
ggplot(df, aes(x = date, y = value)) +
  geom_line() +
  scale_x_date_limit_days(reference_date = "2021-12-01")

# With reference date as strict upper limit
ggplot(df, aes(x = date, y = value)) +
  geom_line() +
  scale_x_date_limit_days(reference_date = "2021-12-01", limit_at_reference = TRUE)
}
}
